(function(a){a.fn.Selectyze=function(b){var c={theme:"css3",effectOpen:"slide",effectClose:"slide",preventClose:false};if(this.length){return this.each(function(){var f=a.extend(c,b),k=a(this),i=k.find("option").filter(":selected"),j=a("<div>",{"class":"DivSelectyze "+f.theme+""}),h=a("<ul>",{"class":"UlSelectize"}),l="";zIndex=99;e(k);k.hide();k.after(j);j.html('<a href="#" rel="'+i.val()+'" class="selectyzeValue"><span class="selectyzeButton"></span>'+i.text()+"</a>");h.appendTo(j).html(l);a(".DivSelectyze").each(function(m,o){a(this).css("z-index",zIndex);zIndex-=10});n=false;j.mouseenter(function(){n=false}).mouseleave(function(){n=true});j.find("a.selectyzeValue").click(function(m){m.preventDefault();d(a("ul.UlSelectize").not(a(this).next()));g(a(this).next("ul.UlSelectize"))});h.find("a").click(function(m){m.preventDefault();j.find("a.selectyzeValue").html('<span class="selectyzeButton"></span>'+a(this).text());j.find("a.selectyzeValue").attr("rel",a(this).attr("rel"));k.val(a(this).attr("rel"));k.trigger("change");if(!f.preventClose){d(k.next().find(".UlSelectize"))}});a(document).click(function(m){if(n){d(a(".UlSelectize").not(":hidden"))}});function e(m){if(m.has("optgroup").length){m.find("optgroup").each(function(o,p){l+='<li><span class="optgroupTitle">'+a(this).attr("label")+"</span><ul>";a(this).children().each(function(q,r){l+='<li><a rel="'+a(this).val()+'" href="#">'+a(this).text()+"</a></li>"});l+="</ul></li>"})}else{m.find("option").each(function(o,p){l+='<li><a rel="'+a(this).val()+'" href="#">'+a(this).text()+"</a></li>"})}}function g(m){switch(f.effectOpen){case"slide":if(!m.is(":hidden")){m.stop(true,true).slideUp("fast")}else{m.stop(true,true).slideDown("fast")}break;case"fade":if(!m.is(":hidden")){m.stop(true,true).fadeOut("fast")}else{m.stop(true,true).fadeIn("fast")}break;default:if(!m.is(":hidden")){m.stop(true,true).hide()}else{m.stop(true,true).show()}}}function d(m){switch(f.effectClose){case"slide":m.stop(true,true).slideUp("fast");break;case"fade":m.stop(true,true).fadeOut("fast");break;default:m.hide()}}})}}})(jQuery);